class PostComments{constructor(e){this.postId=e,this.postContainer=$(`#post-${e}`),this.newComment=$(`#post-${e}-comments-form`),this.createComment(e);let t=this;$(" .delete-comment-button",this.postContainer).each((function(){t.deleteComment($(this))}))}createComment(e){let t=this;this.newComment.submit((function(o){console.log("yes"),o.preventDefault();$.ajax({type:"POST",url:"/comment/create",data:$(this).serialize(),success:function(o){console.log(o);let n=o.data.comment,s=t.newCommentData(n);$(`#post-comments-${e}`).prepend(s),t.deleteComment($(" .delete-comment-button",s)),new Toggle($(" .toggle-like-button",s))},error:function(e){console.log(e.responseText)}})}))}newCommentData(e){return`<li id="comment-${e._id}">\n        ${e.content}\n        <br>\n        <small>${e.user.name}</small>\n        <small>\n        <a class="toggle-like-button" data-likes="0" href="/likes/toggle/${e._id}/Comment">0 Likes</a>\n        </small>\n        <p>\n            \n                <a class="delete-comment-button" href="/comment/distroy/${e._id}">x</a>\n\n        </p>\n        </li>`}deleteComment(e){console.log(e),console.log($(e).prop("href")),$(e).click((function(t){console.log($(e).prop("href")),t.preventDefault(),$.ajax({type:"GET",url:$(e).prop("href"),success:function(e){console.log(e),$(`#comment-${e.data.comment_id}`).remove()},error:function(e){console.log(e.responseText)}})}))}}